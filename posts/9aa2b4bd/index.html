<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><title>mysql explain简介 | 精进马大使</title><meta name="description" content="mysql explain简介"><meta name="keywords" content="mysql,explain"><meta name="author" content="精进马大使"><meta name="copyright" content="精进马大使"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.ico"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="canonical" href="http://jskblog.xyz/posts/9aa2b4bd/"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="mysql explain简介"><meta name="twitter:description" content="mysql explain简介"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/JSK520/blog_web@1.1/photos/jingjin_1.jpg"><meta property="og:type" content="article"><meta property="og:title" content="mysql explain简介"><meta property="og:url" content="http://jskblog.xyz/posts/9aa2b4bd/"><meta property="og:site_name" content="精进马大使"><meta property="og:description" content="mysql explain简介"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/JSK520/blog_web@1.1/photos/jingjin_1.jpg"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="prev" title="mysql事务隔离和mvcc" href="http://jskblog.xyz/posts/1c92a0d/"><link rel="next" title="个人学习阶段总结及博客未来计划" href="http://jskblog.xyz/posts/c2af516c/"><meta name="baidu-site-verification" content="&lt;meta name=&quot;baidu-site-verification&quot; content=&quot;m0FTCFBXUY&quot; /&gt;"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容:${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  highlight_copy: 'true',
  highlight_lang: 'true',
  highlight_shrink: 'false',
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    title: '添加书签',
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  copyright: {"languages":{"author":"作者: 精进马大使","link":"链接: http://jskblog.xyz/posts/9aa2b4bd/","source":"来源: 精进马大使","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  copy_copyright_js: true
  
}</script></head><body><div id="header"> <div id="page-header"><span class="pull-left" id="blog_name"><a class="blog_title" id="site-name" href="/">精进马大使</a></span><i class="fa fa-bars fa-fw toggle-menu pull-right close" aria-hidden="true"></i><span class="pull-right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 主目录</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 文章列表</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于我</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 列表</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Movie</span></a></li></ul></div><script>document.body.addEventListener('touchstart', function(){ });</script></div></span><span class="pull-right" id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> 搜索</span></a></span></div></div><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="lozad avatar_img" src="https://cdn.jsdelivr.net/gh/JSK520/blog_web@v1.1/photos/shikai.jpg" onerror="onerror=null;src='/img/friend_404.gif'"></div><div class="mobile_post_data"><div class="mobile_data_item is_center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">17</div></a></div></div><div class="mobile_data_item is_center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">26</div></a></div></div><div class="mobile_data_item is_center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">24</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 主目录</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 文章列表</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于我</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 列表</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Movie</span></a></li></ul></div><script>document.body.addEventListener('touchstart', function(){ });</script></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">目录</div><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#简单介绍"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">简单介绍</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#id"><span class="toc_mobile_items-number">2.</span> <span class="toc_mobile_items-text">id</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#简单一个select"><span class="toc_mobile_items-number">2.1.</span> <span class="toc_mobile_items-text">简单一个select</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#子查询"><span class="toc_mobile_items-number">2.2.</span> <span class="toc_mobile_items-text">子查询</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#优化器不优化成连接查询"><span class="toc_mobile_items-number">2.2.1.</span> <span class="toc_mobile_items-text">优化器不优化成连接查询</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#优化器优化成连接查询"><span class="toc_mobile_items-number">2.2.2.</span> <span class="toc_mobile_items-text">优化器优化成连接查询</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#union语句"><span class="toc_mobile_items-number">2.3.</span> <span class="toc_mobile_items-text">union语句</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#select-type"><span class="toc_mobile_items-number">3.</span> <span class="toc_mobile_items-text">select_type</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#SIMPLE"><span class="toc_mobile_items-number">3.1.</span> <span class="toc_mobile_items-text">SIMPLE</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#PRIMARY"><span class="toc_mobile_items-number">3.2.</span> <span class="toc_mobile_items-text">PRIMARY</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#UNION"><span class="toc_mobile_items-number">3.3.</span> <span class="toc_mobile_items-text">UNION</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#UNION-RESULT"><span class="toc_mobile_items-number">3.4.</span> <span class="toc_mobile_items-text">UNION RESULT</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#SUBQUERY"><span class="toc_mobile_items-number">3.5.</span> <span class="toc_mobile_items-text">SUBQUERY</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#DEPENDENT-SUBQUERY"><span class="toc_mobile_items-number">3.6.</span> <span class="toc_mobile_items-text">DEPENDENT SUBQUERY</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#DEPENDENT-UNION"><span class="toc_mobile_items-number">3.7.</span> <span class="toc_mobile_items-text">DEPENDENT UNION</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#DERIVED"><span class="toc_mobile_items-number">3.8.</span> <span class="toc_mobile_items-text">DERIVED</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#MATERIALIZED"><span class="toc_mobile_items-number">3.9.</span> <span class="toc_mobile_items-text">MATERIALIZED</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#table"><span class="toc_mobile_items-number">4.</span> <span class="toc_mobile_items-text">table</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#type"><span class="toc_mobile_items-number">4.1.</span> <span class="toc_mobile_items-text">type</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#system"><span class="toc_mobile_items-number">4.1.1.</span> <span class="toc_mobile_items-text">system</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#const"><span class="toc_mobile_items-number">4.1.2.</span> <span class="toc_mobile_items-text">const</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#eq-ref"><span class="toc_mobile_items-number">4.1.3.</span> <span class="toc_mobile_items-text">eq_ref</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#ref"><span class="toc_mobile_items-number">4.1.4.</span> <span class="toc_mobile_items-text">ref</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#fulltext"><span class="toc_mobile_items-number">4.1.5.</span> <span class="toc_mobile_items-text">fulltext</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#ref-or-null"><span class="toc_mobile_items-number">4.1.6.</span> <span class="toc_mobile_items-text">ref_or_null</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#index-merge"><span class="toc_mobile_items-number">4.1.7.</span> <span class="toc_mobile_items-text">index_merge</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#unique-subquery"><span class="toc_mobile_items-number">4.1.8.</span> <span class="toc_mobile_items-text">unique_subquery</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#index-subquery"><span class="toc_mobile_items-number">4.1.9.</span> <span class="toc_mobile_items-text">index_subquery</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#range"><span class="toc_mobile_items-number">4.1.10.</span> <span class="toc_mobile_items-text">range</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#index"><span class="toc_mobile_items-number">4.1.11.</span> <span class="toc_mobile_items-text">index</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#ALL"><span class="toc_mobile_items-number">4.1.12.</span> <span class="toc_mobile_items-text">ALL</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#possible-keys和key"><span class="toc_mobile_items-number">4.2.</span> <span class="toc_mobile_items-text">possible_keys和key</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#key-len"><span class="toc_mobile_items-number">4.3.</span> <span class="toc_mobile_items-text">key_len</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#ref-1"><span class="toc_mobile_items-number">4.4.</span> <span class="toc_mobile_items-text">ref</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#rows"><span class="toc_mobile_items-number">4.4.1.</span> <span class="toc_mobile_items-text">rows</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#filtered"><span class="toc_mobile_items-number">4.4.2.</span> <span class="toc_mobile_items-text">filtered</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#Extra"><span class="toc_mobile_items-number">4.5.</span> <span class="toc_mobile_items-text">Extra</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#No-tables-used"><span class="toc_mobile_items-number">4.5.1.</span> <span class="toc_mobile_items-text">No tables used</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Impossible-WHERE"><span class="toc_mobile_items-number">4.5.2.</span> <span class="toc_mobile_items-text">Impossible WHERE</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#No-matching-min-max-row"><span class="toc_mobile_items-number">4.5.3.</span> <span class="toc_mobile_items-text">No matching min/max row</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Using-index"><span class="toc_mobile_items-number">4.5.4.</span> <span class="toc_mobile_items-text">Using index</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Using-index-condition"><span class="toc_mobile_items-number">4.5.5.</span> <span class="toc_mobile_items-text">Using index condition</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Using-where"><span class="toc_mobile_items-number">4.5.6.</span> <span class="toc_mobile_items-text">Using where</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Using-join-buffer-（Block-Nested-Loop）"><span class="toc_mobile_items-number">4.5.7.</span> <span class="toc_mobile_items-text">Using join buffer （Block Nested Loop）</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Not-exists"><span class="toc_mobile_items-number">4.5.8.</span> <span class="toc_mobile_items-text">Not exists</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Zero-limit"><span class="toc_mobile_items-number">4.5.9.</span> <span class="toc_mobile_items-text">Zero limit</span></a></li></ol></li></ol></li></ol></div></div><div id="body-wrap"><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#简单介绍"><span class="toc-number">1.</span> <span class="toc-text">简单介绍</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#id"><span class="toc-number">2.</span> <span class="toc-text">id</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#简单一个select"><span class="toc-number">2.1.</span> <span class="toc-text">简单一个select</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#子查询"><span class="toc-number">2.2.</span> <span class="toc-text">子查询</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#优化器不优化成连接查询"><span class="toc-number">2.2.1.</span> <span class="toc-text">优化器不优化成连接查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#优化器优化成连接查询"><span class="toc-number">2.2.2.</span> <span class="toc-text">优化器优化成连接查询</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#union语句"><span class="toc-number">2.3.</span> <span class="toc-text">union语句</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#select-type"><span class="toc-number">3.</span> <span class="toc-text">select_type</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#SIMPLE"><span class="toc-number">3.1.</span> <span class="toc-text">SIMPLE</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PRIMARY"><span class="toc-number">3.2.</span> <span class="toc-text">PRIMARY</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#UNION"><span class="toc-number">3.3.</span> <span class="toc-text">UNION</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#UNION-RESULT"><span class="toc-number">3.4.</span> <span class="toc-text">UNION RESULT</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SUBQUERY"><span class="toc-number">3.5.</span> <span class="toc-text">SUBQUERY</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DEPENDENT-SUBQUERY"><span class="toc-number">3.6.</span> <span class="toc-text">DEPENDENT SUBQUERY</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DEPENDENT-UNION"><span class="toc-number">3.7.</span> <span class="toc-text">DEPENDENT UNION</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DERIVED"><span class="toc-number">3.8.</span> <span class="toc-text">DERIVED</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MATERIALIZED"><span class="toc-number">3.9.</span> <span class="toc-text">MATERIALIZED</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#table"><span class="toc-number">4.</span> <span class="toc-text">table</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#type"><span class="toc-number">4.1.</span> <span class="toc-text">type</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#system"><span class="toc-number">4.1.1.</span> <span class="toc-text">system</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#const"><span class="toc-number">4.1.2.</span> <span class="toc-text">const</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#eq-ref"><span class="toc-number">4.1.3.</span> <span class="toc-text">eq_ref</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ref"><span class="toc-number">4.1.4.</span> <span class="toc-text">ref</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#fulltext"><span class="toc-number">4.1.5.</span> <span class="toc-text">fulltext</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ref-or-null"><span class="toc-number">4.1.6.</span> <span class="toc-text">ref_or_null</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#index-merge"><span class="toc-number">4.1.7.</span> <span class="toc-text">index_merge</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#unique-subquery"><span class="toc-number">4.1.8.</span> <span class="toc-text">unique_subquery</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#index-subquery"><span class="toc-number">4.1.9.</span> <span class="toc-text">index_subquery</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#range"><span class="toc-number">4.1.10.</span> <span class="toc-text">range</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#index"><span class="toc-number">4.1.11.</span> <span class="toc-text">index</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ALL"><span class="toc-number">4.1.12.</span> <span class="toc-text">ALL</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#possible-keys和key"><span class="toc-number">4.2.</span> <span class="toc-text">possible_keys和key</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#key-len"><span class="toc-number">4.3.</span> <span class="toc-text">key_len</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ref-1"><span class="toc-number">4.4.</span> <span class="toc-text">ref</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#rows"><span class="toc-number">4.4.1.</span> <span class="toc-text">rows</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#filtered"><span class="toc-number">4.4.2.</span> <span class="toc-text">filtered</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Extra"><span class="toc-number">4.5.</span> <span class="toc-text">Extra</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#No-tables-used"><span class="toc-number">4.5.1.</span> <span class="toc-text">No tables used</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Impossible-WHERE"><span class="toc-number">4.5.2.</span> <span class="toc-text">Impossible WHERE</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#No-matching-min-max-row"><span class="toc-number">4.5.3.</span> <span class="toc-text">No matching min/max row</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Using-index"><span class="toc-number">4.5.4.</span> <span class="toc-text">Using index</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Using-index-condition"><span class="toc-number">4.5.5.</span> <span class="toc-text">Using index condition</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Using-where"><span class="toc-number">4.5.6.</span> <span class="toc-text">Using where</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Using-join-buffer-（Block-Nested-Loop）"><span class="toc-number">4.5.7.</span> <span class="toc-text">Using join buffer （Block Nested Loop）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Not-exists"><span class="toc-number">4.5.8.</span> <span class="toc-text">Not exists</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Zero-limit"><span class="toc-number">4.5.9.</span> <span class="toc-text">Zero limit</span></a></li></ol></li></ol></li></ol></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(https://cdn.jsdelivr.net/gh/JSK520/blog_web@1.1/photos/jingjin_1.jpg)"><div id="post-info"><div id="post-title"><div class="posttitle">mysql explain简介</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 发表于 2019-12-02<span class="post-meta__separator">|</span><i class="fa fa-history" aria-hidden="true"></i> 更新于 2019-12-02</time><span class="post-meta__separator mobile_hidden">|</span><span class="mobile_hidden"><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/mysql%E7%9F%A5%E8%AF%86/">mysql知识</a><i class="fa fa-angle-right" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/mysql%E7%9F%A5%E8%AF%86/explain%E7%AE%80%E4%BB%8B/">explain简介</a></span><div class="post-meta-wordcount"><span>字数总计: </span><span class="word-count">3.1k</span><span class="post-meta__separator">|</span><span>阅读时长: 13 分钟</span><span class="post-meta__separator">|</span><span>阅读量: </span><span id="busuanzi_value_page_pv"></span></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><blockquote>
<p>那时的我们<br>关于文学<br>关于爱情<br>关于穿越世界的旅行</p>
<p>如今我们深夜饮酒<br>杯子碰到一起<br>都是梦破碎的声音</p>
<p>—— 北岛《波兰来客》</p>
</blockquote>
<h1 id="简单介绍"><a href="#简单介绍" class="headerlink" title="简单介绍"></a>简单介绍</h1><p>explain用于mysql的调优是有好处的，所以本篇做简单参数介绍和使用。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; EXPLAIN SELECT 1;</span><br><span class="line">+----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+----------------+</span><br><span class="line">| id | select_type | table | partitions | type | possible_keys | key  | key_len | ref  | rows | filtered | Extra          |</span><br><span class="line">+----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+----------------+</span><br><span class="line">|  1 | SIMPLE      | NULL  | NULL       | NULL | NULL          | NULL | NULL    | NULL | NULL |     NULL | No tables used |</span><br><span class="line">+----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+----------------+</span><br><span class="line">1 row in set, 1 warning (0.01 sec)</span><br></pre></td></tr></table></figure>

<p>如上面例子，在mysql客户端的查询语句前加explain可以查看执行计划，每一列都有其含义，我接下来做简单句记录。</p>
<table>
<thead>
<tr>
<th>列名</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>在一个大查询里，每个select关键字对应一个唯一id，但有些子查询会被优化成连接查询，而连接查询会共用一个id，所以不能仅仅判断查询语句select的个数来判断id数。</td>
</tr>
<tr>
<td>select_type</td>
<td>select关键字对应的查询类型，有专门分类，后面会讲</td>
</tr>
<tr>
<td>table</td>
<td>表名</td>
</tr>
<tr>
<td>partitions</td>
<td>匹配的分区信息</td>
</tr>
<tr>
<td>type</td>
<td>针对单表的访问方法</td>
</tr>
<tr>
<td>possible_keys</td>
<td>可能用到的索引</td>
</tr>
<tr>
<td>key</td>
<td>实际上用到的索引</td>
</tr>
<tr>
<td>key_len</td>
<td>实际使用的索引长度</td>
</tr>
<tr>
<td>ref</td>
<td>索引用等值查询时，与索引等值匹配的对象信息</td>
</tr>
<tr>
<td>rows</td>
<td>预估需要读的记录数</td>
</tr>
<tr>
<td>filtered</td>
<td>经过搜索条件过滤后剩余记录的百分比</td>
</tr>
<tr>
<td>Extra</td>
<td>额外信息，官网有很多，这里介绍几种重要的</td>
</tr>
</tbody></table>
<h1 id="id"><a href="#id" class="headerlink" title="id"></a>id</h1><p>关于id主要有三种情况</p>
<ol>
<li>简单一个select<blockquote>
<p>select * from t1;</p>
</blockquote>
</li>
<li>子查询<blockquote>
<p>select * from t1 where c1 in (select c2 from t2);</p>
</blockquote>
</li>
<li>union<blockquote>
<p>select * from t1 union select * from t2</p>
</blockquote>
</li>
</ol>
<h2 id="简单一个select"><a href="#简单一个select" class="headerlink" title="简单一个select"></a>简单一个select</h2><p>第一种情况，只会有一个id</p>
<h2 id="子查询"><a href="#子查询" class="headerlink" title="子查询"></a>子查询</h2><p>子查询本身有几种：</p>
<ol>
<li>where子查询：需要看优化器是否会优化</li>
<li>from子查询：子查询会变成一张临时表，最终也只会有一个id</li>
<li>exists子查询：会有两个id，看下图<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; explain select * from t_sqoop_web where exists (select * from t_sqoop_web);    </span><br><span class="line">+----+-------------+-------------+------------+-------+---------------+---------+---------+------+------+----------+-------------+</span><br><span class="line">| id | select_type | table       | partitions | type  | possible_keys | key     | key_len | ref  | rows | filtered | Extra       |</span><br><span class="line">+----+-------------+-------------+------------+-------+---------------+---------+---------+------+------+----------+-------------+</span><br><span class="line">|  1 | PRIMARY     | t_sqoop_web | NULL       | ALL   | NULL          | NULL    | NULL    | NULL |   19 |   100.00 | NULL        |</span><br><span class="line">|  2 | SUBQUERY    | t_sqoop_web | NULL       | index | NULL          | PRIMARY | 1534    | NULL |   19 |   100.00 | Using index |</span><br><span class="line">+----+-------------+-------------+------------+-------+---------------+---------+---------+------+------+----------+-------------+</span><br><span class="line">2 rows in set (0.01 sec)</span><br></pre></td></tr></table></figure>

</li>
</ol>
<p>where子查询需要分两种情况：</p>
<h3 id="优化器不优化成连接查询"><a href="#优化器不优化成连接查询" class="headerlink" title="优化器不优化成连接查询"></a>优化器不优化成连接查询</h3><p>这种情况，会出现两个id：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; EXPLAIN SELECT * FROM s1 WHERE key1 IN (SELECT key1 FROM s2) OR key3 = &apos;a&apos;;</span><br><span class="line">+----+-------------+-------+------------+-------+---------------+----------+---------+------+------+----------+-------------+</span><br><span class="line">| id | select_type | table | partitions | type  | possible_keys | key      | key_len | ref  | rows | filtered | Extra       |</span><br><span class="line">+----+-------------+-------+------------+-------+---------------+----------+---------+------+------+----------+-------------+</span><br><span class="line">|  1 | PRIMARY     | s1    | NULL       | ALL   | idx_key3      | NULL     | NULL    | NULL | 9688 |   100.00 | Using where |</span><br><span class="line">|  2 | SUBQUERY    | s2    | NULL       | index | idx_key1      | idx_key1 | 303     | NULL | 9954 |   100.00 | Using index |</span><br><span class="line">+----+-------------+-------+------------+-------+---------------+----------+---------+------+------+----------+-------------+</span><br><span class="line">2 rows in set, 1 warning (0.02 sec)</span><br></pre></td></tr></table></figure>

<h3 id="优化器优化成连接查询"><a href="#优化器优化成连接查询" class="headerlink" title="优化器优化成连接查询"></a>优化器优化成连接查询</h3><p>这种情况，只会出现一个id</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; EXPLAIN SELECT * FROM s1 WHERE key1 IN (SELECT key3 FROM s2 WHERE common_field = &apos;a&apos;);</span><br><span class="line">+----+-------------+-------+------------+------+---------------+----------+---------+-------------------+------+----------+------------------------------+</span><br><span class="line">| id | select_type | table | partitions | type | possible_keys | key      | key_len | ref               | rows | filtered | Extra                        |</span><br><span class="line">+----+-------------+-------+------------+------+---------------+----------+---------+-------------------+------+----------+------------------------------+</span><br><span class="line">|  1 | SIMPLE      | s2    | NULL       | ALL  | idx_key3      | NULL     | NULL    | NULL              | 9954 |    10.00 | Using where; Start temporary |</span><br><span class="line">|  1 | SIMPLE      | s1    | NULL       | ref  | idx_key1      | idx_key1 | 303     | xiaohaizi.s2.key3 |    1 |   100.00 | End temporary                |</span><br><span class="line">+----+-------------+-------+------------+------+---------------+----------+---------+-------------------+------+----------+------------------------------+</span><br><span class="line">2 rows in set, 1 warning (0.00 sec)</span><br></pre></td></tr></table></figure>

<h2 id="union语句"><a href="#union语句" class="headerlink" title="union语句"></a>union语句</h2><p>union情况需要解释一番，看下面：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; explain select * from t_sqoop_web union select * from t_sqoop_web_test; </span><br><span class="line">+----+--------------+------------------+------------+------+---------------+------+---------+------+------+----------+-----------------+</span><br><span class="line">| id | select_type  | table            | partitions | type | possible_keys | key  | key_len | ref  | rows | filtered | Extra           |</span><br><span class="line">+----+--------------+------------------+------------+------+---------------+------+---------+------+------+----------+-----------------+</span><br><span class="line">|  1 | PRIMARY      | t_sqoop_web      | NULL       | ALL  | NULL          | NULL | NULL    | NULL |   19 |   100.00 | NULL            |</span><br><span class="line">|  2 | UNION        | t_sqoop_web_test | NULL       | ALL  | NULL          | NULL | NULL    | NULL |    6 |   100.00 | NULL            |</span><br><span class="line">| NULL | UNION RESULT | &lt;union1,2&gt;       | NULL       | ALL  | NULL          | NULL | NULL    | NULL | NULL |     NULL | Using temporary |</span><br><span class="line">+----+--------------+------------------+------------+------+---------------+------+---------+------+------+----------+-----------------+</span><br><span class="line">3 rows in set (0.02 sec)</span><br></pre></td></tr></table></figure>

<p>我们看到除了1，2两个id，还出现了null的情况，这是因为union会涉及去重，而<code>在mysql中的去重会生成临时表用来去重</code>，所以null id的那一行会生一个名为&lt;union1,2&gt;的临时表</p>
<h1 id="select-type"><a href="#select-type" class="headerlink" title="select_type"></a>select_type</h1><p>每个select查询都会对应有这个select的类型，在explain中就用select_type做展示，主要的select_type有：</p>
<table>
<thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>SIMPLE</td>
<td>不包含子查询和union的查询</td>
</tr>
<tr>
<td>PRIMARY</td>
<td>包含union、unionAll、子查询的最左边查询的select_type为PRIMARY</td>
</tr>
<tr>
<td>UNION</td>
<td>包含union、unionAll，且除了PRIMARY外的其他类型</td>
</tr>
<tr>
<td>UNION RESULT</td>
<td>Result of a UNION</td>
</tr>
<tr>
<td>SUBQUERY</td>
<td>First SELECT in subquery</td>
</tr>
<tr>
<td>DEPENDENT SUBQUERY</td>
<td>First SELECT in subquery, dependent on outer query</td>
</tr>
<tr>
<td>DEPENDENT UNION</td>
<td>Second or later SELECT statement in a UNION, dependent on outer query</td>
</tr>
<tr>
<td>DERIVED</td>
<td>Derived table</td>
</tr>
<tr>
<td>MATERIALIZED</td>
<td>Materialized subquery</td>
</tr>
<tr>
<td>UNCACHEABLE SUBQUERY</td>
<td>A subquery for which the result cannot be cached and must be re-evaluated for each row of the outer query</td>
</tr>
<tr>
<td>UNCACHEABLE UNION</td>
<td>The second or later select in a UNION that belongs to an uncacheable subquery (see UNCACHEABLE SUBQUERY)</td>
</tr>
</tbody></table>
<h2 id="SIMPLE"><a href="#SIMPLE" class="headerlink" title="SIMPLE"></a>SIMPLE</h2><p>只要不包含子查询和union的查询都算是SIMPLE类型，这种类型是最简单的：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; explain select * from t_sqoop_web;</span><br><span class="line">+----+-------------+-------------+------------+------+---------------+------+---------+------+------+----------+-------+</span><br><span class="line">| id | select_type | table       | partitions | type | possible_keys | key  | key_len | ref  | rows | filtered | Extra |</span><br><span class="line">+----+-------------+-------------+------------+------+---------------+------+---------+------+------+----------+-------+</span><br><span class="line">|  1 | SIMPLE      | t_sqoop_web | NULL       | ALL  | NULL          | NULL | NULL    | NULL |   19 |   100.00 | NULL  |</span><br><span class="line">+----+-------------+-------------+------------+------+---------------+------+---------+------+------+----------+-------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>连接查询也是属于SIMPLE类型</p>
</blockquote>
<h2 id="PRIMARY"><a href="#PRIMARY" class="headerlink" title="PRIMARY"></a>PRIMARY</h2><p>由几个小查询组成的查询语句，最左边的查询select_type就是PRIMARY：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; explain select * from t_sqoop_web union select * from t_sqoop_web_test; </span><br><span class="line">+----+--------------+------------------+------------+------+---------------+------+---------+------+------+----------+-----------------+</span><br><span class="line">| id | select_type  | table            | partitions | type | possible_keys | key  | key_len | ref  | rows | filtered | Extra           |</span><br><span class="line">+----+--------------+------------------+------------+------+---------------+------+---------+------+------+----------+-----------------+</span><br><span class="line">|  1 | PRIMARY      | t_sqoop_web      | NULL       | ALL  | NULL          | NULL | NULL    | NULL |   19 |   100.00 | NULL            |</span><br><span class="line">|  2 | UNION        | t_sqoop_web_test | NULL       | ALL  | NULL          | NULL | NULL    | NULL |    6 |   100.00 | NULL            |</span><br><span class="line">| NULL | UNION RESULT | &lt;union1,2&gt;       | NULL       | ALL  | NULL          | NULL | NULL    | NULL | NULL |     NULL | Using temporary |</span><br><span class="line">+----+--------------+------------------+------------+------+---------------+------+---------+------+------+----------+-----------------+</span><br><span class="line">3 rows in set (0.02 sec)</span><br></pre></td></tr></table></figure>

<h2 id="UNION"><a href="#UNION" class="headerlink" title="UNION"></a>UNION</h2><p>包含union和unionAll的除了最左边为PRIMARY外，其他的为UNION，可以看上图</p>
<h2 id="UNION-RESULT"><a href="#UNION-RESULT" class="headerlink" title="UNION RESULT"></a>UNION RESULT</h2><p>用于union的临时表去重，上表 id为NULL的那行就是</p>
<h2 id="SUBQUERY"><a href="#SUBQUERY" class="headerlink" title="SUBQUERY"></a>SUBQUERY</h2><p>如果子查询满足以下两种情况：</p>
<ol>
<li>不能优化成join语句</li>
<li>不是相关子查询，并且子查询被物化</li>
</ol>
<p>那么子查询的第一个select 就是SUBQUERY：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; EXPLAIN SELECT * FROM s1 WHERE key1 IN (SELECT key1 FROM s2) OR key3 = &apos;a&apos;;</span><br><span class="line">+----+-------------+-------+------------+-------+---------------+----------+---------+------+------+----------+-------------+</span><br><span class="line">| id | select_type | table | partitions | type  | possible_keys | key      | key_len | ref  | rows | filtered | Extra       |</span><br><span class="line">+----+-------------+-------+------------+-------+---------------+----------+---------+------+------+----------+-------------+</span><br><span class="line">|  1 | PRIMARY     | s1    | NULL       | ALL   | idx_key3      | NULL     | NULL    | NULL | 9688 |   100.00 | Using where |</span><br><span class="line">|  2 | SUBQUERY    | s2    | NULL       | index | idx_key1      | idx_key1 | 303     | NULL | 9954 |   100.00 | Using index |</span><br><span class="line">+----+-------------+-------+------------+-------+---------------+----------+---------+------+------+----------+-------------+</span><br><span class="line">2 rows in set, 1 warning (0.02 sec)</span><br></pre></td></tr></table></figure>
<p>上面条件说到会被物化，所以子查询只出现只执行一次</p>
<p>什么是相关子查询和不相关子查询：</p>
<blockquote>
<p>相关子查询：子查询需要依赖外查询进行查询——如果子查询where语句用到外查询的字段，则可以认为是相关子查询<br>不相关子查询：子查询不需要依赖外查询进行查询——如果子查询是一个单独的查询语句，不依赖任何外部表的字段，则可以认为是不相关子查询</p>
</blockquote>
<h2 id="DEPENDENT-SUBQUERY"><a href="#DEPENDENT-SUBQUERY" class="headerlink" title="DEPENDENT SUBQUERY"></a>DEPENDENT SUBQUERY</h2><p>如果满足以下两个情况：</p>
<ol>
<li>不能优化成join语句</li>
<li>子查询是相关子查询</li>
</ol>
<p>则子查询的第一个select关键字为 DEPENDENT SUBQUERY：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; explain select * from t_sqoop_web where mysql_db_tb in (select mysql_db_tb from t_sqoop_web_test where t_sqoop_web.hive_db = t_sqoop_web_test.hive_db) or sqoop_type = &apos;&apos;;</span><br><span class="line">+----+--------------------+------------------+------------+----------------+---------------+---------+---------+------+------+----------+-------------+</span><br><span class="line">| id | select_type        | table            | partitions | type           | possible_keys | key     | key_len | ref  | rows | filtered | Extra       |</span><br><span class="line">+----+--------------------+------------------+------------+----------------+---------------+---------+---------+------+------+----------+-------------+</span><br><span class="line">|  1 | PRIMARY            | t_sqoop_web      | NULL       | ALL            | NULL          | NULL    | NULL    | NULL |   19 |   100.00 | Using where |</span><br><span class="line">|  2 | DEPENDENT SUBQUERY | t_sqoop_web_test | NULL       | index_subquery | PRIMARY       | PRIMARY | 767     | func |    1 |    16.67 | Using where |</span><br><span class="line">+----+--------------------+------------------+------------+----------------+---------------+---------+---------+------+------+----------+-------------+</span><br><span class="line">2 rows in set (0.03 sec)</span><br></pre></td></tr></table></figure>

<h2 id="DEPENDENT-UNION"><a href="#DEPENDENT-UNION" class="headerlink" title="DEPENDENT UNION"></a>DEPENDENT UNION</h2><p>满足以下条件:</p>
<ol>
<li>UNION和UNION ALL的子查询</li>
<li>每个子查询都是相关子查询</li>
</ol>
<p>则除了最左边为DEPENDENT SUBQUERY外，其他的都为DEPENDENT UNION：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; EXPLAIN SELECT * FROM s1 WHERE key1 IN (SELECT key1 FROM s2 WHERE key1 = &apos;a&apos; UNION SELECT key1 FROM s1 WHERE key1 = &apos;b&apos;);</span><br><span class="line">+----+--------------------+------------+------------+------+---------------+----------+---------+-------+------+----------+--------------------------+</span><br><span class="line">| id | select_type        | table      | partitions | type | possible_keys | key      | key_len | ref   | rows | filtered | Extra                    |</span><br><span class="line">+----+--------------------+------------+------------+------+---------------+----------+---------+-------+------+----------+--------------------------+</span><br><span class="line">|  1 | PRIMARY            | s1         | NULL       | ALL  | NULL          | NULL     | NULL    | NULL  | 9688 |   100.00 | Using where              |</span><br><span class="line">|  2 | DEPENDENT SUBQUERY | s2         | NULL       | ref  | idx_key1      | idx_key1 | 303     | const |   12 |   100.00 | Using where; Using index |</span><br><span class="line">|  3 | DEPENDENT UNION    | s1         | NULL       | ref  | idx_key1      | idx_key1 | 303     | const |    8 |   100.00 | Using where; Using index |</span><br><span class="line">| NULL | UNION RESULT       | &lt;union2,3&gt; | NULL       | ALL  | NULL          | NULL     | NULL    | NULL  | NULL |     NULL | Using temporary          |</span><br><span class="line">+----+--------------------+------------+------------+------+---------------+----------+---------+-------+------+----------+--------------------------+</span><br><span class="line">4 rows in set, 1 warning (0.03 sec)</span><br></pre></td></tr></table></figure>

<h2 id="DERIVED"><a href="#DERIVED" class="headerlink" title="DERIVED"></a>DERIVED</h2><p>对于采用物化的方式执行的包含派生表的查询，该派生表对应的子查询的select_type就是DERIVED</p>
<h2 id="MATERIALIZED"><a href="#MATERIALIZED" class="headerlink" title="MATERIALIZED"></a>MATERIALIZED</h2><p>当查询优化器在执行包含子查询的语句时，选择将<code>子查询物化之后与外层查询进行连接查询</code>时，该子查询对应的select_type属性就是MATERIALIZED：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; EXPLAIN SELECT * FROM s1 WHERE key1 IN (SELECT key1 FROM s2);</span><br><span class="line">+----+--------------+-------------+------------+--------+---------------+------------+---------+-------------------+------+----------+-------------+</span><br><span class="line">| id | select_type  | table       | partitions | type   | possible_keys | key        | key_len | ref               | rows | filtered | Extra       |</span><br><span class="line">+----+--------------+-------------+------------+--------+---------------+------------+---------+-------------------+------+----------+-------------+</span><br><span class="line">|  1 | SIMPLE       | s1          | NULL       | ALL    | idx_key1      | NULL       | NULL    | NULL              | 9688 |   100.00 | Using where |</span><br><span class="line">|  1 | SIMPLE       | &lt;subquery2&gt; | NULL       | eq_ref | &lt;auto_key&gt;    | &lt;auto_key&gt; | 303     | xiaohaizi.s1.key1 |    1 |   100.00 | NULL        |</span><br><span class="line">|  2 | MATERIALIZED | s2          | NULL       | index  | idx_key1      | idx_key1   | 303     | NULL              | 9954 |   100.00 | Using index |</span><br><span class="line">+----+--------------+-------------+------------+--------+---------------+------------+---------+-------------------+------+----------+-------------+</span><br><span class="line">3 rows in set, 1 warning (0.01 sec)</span><br></pre></td></tr></table></figure>

<h1 id="table"><a href="#table" class="headerlink" title="table"></a>table</h1><p>表示使用到的表名</p>
<h2 id="type"><a href="#type" class="headerlink" title="type"></a>type</h2><p>type代表访问的方式，主要有以下类型：</p>
<table>
<thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>system</td>
<td></td>
</tr>
<tr>
<td>const</td>
<td></td>
</tr>
<tr>
<td>eq_ref</td>
<td></td>
</tr>
<tr>
<td>ref</td>
<td></td>
</tr>
<tr>
<td>fulltext</td>
<td></td>
</tr>
<tr>
<td>ref_or_null</td>
<td></td>
</tr>
<tr>
<td>index_merge</td>
<td></td>
</tr>
<tr>
<td>unique_subquery</td>
<td></td>
</tr>
<tr>
<td>index_subquery</td>
<td></td>
</tr>
<tr>
<td>range</td>
<td></td>
</tr>
<tr>
<td>index</td>
<td></td>
</tr>
<tr>
<td>ALL</td>
<td></td>
</tr>
</tbody></table>
<p>效率的快慢排序：<br>system &gt; const &gt; eq_ref &gt; ref &gt; fulltext &gt; ref_or_null &gt; index_merge &gt; unique_subquery &gt; index_subquery &gt; range &gt; index &gt; ALL</p>
<h3 id="system"><a href="#system" class="headerlink" title="system"></a>system</h3><p>满足条件：</p>
<ol>
<li>表中只有一条记录</li>
<li>存储引擎统计数据是精确的，如myisam（注：innodb不是精确统计）</li>
</ol>
<h3 id="const"><a href="#const" class="headerlink" title="const"></a>const</h3><p>满足条件：</p>
<ol>
<li>根据主键或者唯一二级索引列与常数进行等值匹配</li>
</ol>
<h3 id="eq-ref"><a href="#eq-ref" class="headerlink" title="eq_ref"></a>eq_ref</h3><p>满足条件：</p>
<ol>
<li>连接查询</li>
<li>被驱动表通过主键或者唯一二级索引列进行等值匹配的，被驱动表会显示eq_ref</li>
</ol>
<h3 id="ref"><a href="#ref" class="headerlink" title="ref"></a>ref</h3><p>满足条件：</p>
<ol>
<li>普通二级索引列与常量等值匹配查询</li>
</ol>
<h3 id="fulltext"><a href="#fulltext" class="headerlink" title="fulltext"></a>fulltext</h3><p>满足条件：</p>
<ol>
<li>用导全文索引列进行查询</li>
</ol>
<h3 id="ref-or-null"><a href="#ref-or-null" class="headerlink" title="ref_or_null"></a>ref_or_null</h3><p>满足条件：</p>
<ol>
<li>二级索引等值匹配</li>
<li>该列值可以为null</li>
</ol>
<h3 id="index-merge"><a href="#index-merge" class="headerlink" title="index_merge"></a>index_merge</h3><p>满足条件：</p>
<ol>
<li>索引为单独索引</li>
<li>多个索引列进行查询</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">mysql&gt; explain select * from t_articles_info_0 where u_tags = &apos;&apos; or oid = &apos;&apos;;  </span><br><span class="line">+----+-------------+-------------------+------------+-------------+--------------------+--------------------+---------+------+--------+----------+----------------------------------------------+</span><br><span class="line">| id | select_type | table             | partitions | type        | possible_keys      | key                | key_len | ref  | rows   | filtered | Extra                                        |</span><br><span class="line">+----+-------------+-------------------+------------+-------------+--------------------+--------------------+---------+------+--------+----------+----------------------------------------------+</span><br><span class="line">|  1 | SIMPLE      | t_articles_info_0 | NULL       | index_merge | idx_oid,idx_u_tags | idx_u_tags,idx_oid | 1,98    | NULL | 101073 |   100.00 | Using union(idx_u_tags,idx_oid); Using where |</span><br><span class="line">+----+-------------+-------------------+------------+-------------+--------------------+--------------------+---------+------+--------+----------+----------------------------------------------+</span><br><span class="line">1 row in set (0.03 sec)</span><br></pre></td></tr></table></figure>

<p>u_tags 和 oid 是单独的索引列</p>
<h3 id="unique-subquery"><a href="#unique-subquery" class="headerlink" title="unique_subquery"></a>unique_subquery</h3><p>满足条件：</p>
<ol>
<li>包含in子查询</li>
<li>in子查询转换为EXISTS子查询</li>
<li>子查询返回的是主键</li>
</ol>
<h3 id="index-subquery"><a href="#index-subquery" class="headerlink" title="index_subquery"></a>index_subquery</h3><p>满足条件：</p>
<ol>
<li>包含in子查询</li>
<li>in子查询转换为EXISTS子查询</li>
<li>子查询返回的是普通索引</li>
</ol>
<h3 id="range"><a href="#range" class="headerlink" title="range"></a>range</h3><p>满足条件：</p>
<ol>
<li>使用索引获取范围区间：</li>
</ol>
<blockquote>
<p>EXPLAIN SELECT * FROM s1 WHERE key1 IN (‘a’, ‘b’, ‘c’);<br>EXPLAIN SELECT * FROM s1 WHERE key1 &gt; ‘a’ AND key1 &lt; ‘b’;</p>
</blockquote>
<h3 id="index"><a href="#index" class="headerlink" title="index"></a>index</h3><p>满足条件：</p>
<ol>
<li>表中有联合索引</li>
<li>条件语句和筛选语句都是联合索引中的列：</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; EXPLAIN SELECT key_part2 FROM s1 WHERE key_part3 = &apos;a&apos;;</span><br><span class="line">+----+-------------+-------+------------+-------+---------------+--------------+---------+------+------+----------+--------------------------+</span><br><span class="line">| id | select_type | table | partitions | type  | possible_keys | key          | key_len | ref  | rows | filtered | Extra                    |</span><br><span class="line">+----+-------------+-------+------------+-------+---------------+--------------+---------+------+------+----------+--------------------------+</span><br><span class="line">|  1 | SIMPLE      | s1    | NULL       | index | NULL          | idx_key_part | 909     | NULL | 9688 |    10.00 | Using where; Using index |</span><br><span class="line">+----+-------------+-------+------------+-------+---------------+--------------+---------+------+------+----------+--------------------------+</span><br><span class="line">1 row in set, 1 warning (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>key_part2和key_part3是联合索引，where语句用到key_part3，select语句用到key_part2</p>
<h3 id="ALL"><a href="#ALL" class="headerlink" title="ALL"></a>ALL</h3><p>满足条件：</p>
<ol>
<li>全表扫描</li>
</ol>
<h2 id="possible-keys和key"><a href="#possible-keys和key" class="headerlink" title="possible_keys和key"></a>possible_keys和key</h2><p>possible_keys：可能用到的索引<br>key：实际用到的索引</p>
<p>possible_key越多，查询优化器计算查询成本花费时间越多，所以尽可能删除无用索引</p>
<h2 id="key-len"><a href="#key-len" class="headerlink" title="key_len"></a>key_len</h2><p>用到的索引的最大长度，这个计算涉及到页的概念，所以暂时不分析</p>
<h2 id="ref-1"><a href="#ref-1" class="headerlink" title="ref"></a>ref</h2><p>指的是当索引列进行等值查询时，和索引列进行等值查询的是个啥玩意：<br>即type类型为：const、eq_ref、ref、ref_or_null、unique_subquery、index_subquery时，对应的索引列和什么玩意进行匹配</p>
<p>主要有几种情况：</p>
<ol>
<li><p>和常量进行匹配的，ref会显示const</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; EXPLAIN SELECT * FROM s1 WHERE key1 = &apos;a&apos;;</span><br><span class="line">+----+-------------+-------+------------+------+---------------+----------+---------+-------+------+----------+-------+</span><br><span class="line">| id | select_type | table | partitions | type | possible_keys | key      | key_len | ref   | rows | filtered | Extra |</span><br><span class="line">+----+-------------+-------+------------+------+---------------+----------+---------+-------+------+----------+-------+</span><br><span class="line">|  1 | SIMPLE      | s1    | NULL       | ref  | idx_key1      | idx_key1 | 303     | const |    8 |   100.00 | NULL  |</span><br><span class="line">+----+-------------+-------+------------+------+---------------+----------+---------+-------+------+----------+-------+</span><br><span class="line">1 row in set, 1 warning (0.01 sec)</span><br></pre></td></tr></table></figure>
</li>
<li><p>连接查询用主键进行等值匹配的，ref显示的是s1表的id</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; EXPLAIN SELECT * FROM s1 INNER JOIN s2 ON s1.id = s2.id;</span><br><span class="line">+----+-------------+-------+------------+--------+---------------+---------+---------+-----------------+------+----------+-------+</span><br><span class="line">| id | select_type | table | partitions | type   | possible_keys | key     | key_len | ref             | rows | filtered | Extra |</span><br><span class="line">+----+-------------+-------+------------+--------+---------------+---------+---------+-----------------+------+----------+-------+</span><br><span class="line">|  1 | SIMPLE      | s1    | NULL       | ALL    | PRIMARY       | NULL    | NULL    | NULL            | 9688 |   100.00 | NULL  |</span><br><span class="line">|  1 | SIMPLE      | s2    | NULL       | eq_ref | PRIMARY       | PRIMARY | 4       | xiaohaizi.s1.id |    1 |   100.00 | NULL  |</span><br><span class="line">+----+-------------+-------+------------+--------+---------------+---------+---------+-----------------+------+----------+-------+</span><br><span class="line">2 rows in set, 1 warning (0.00 sec)</span><br></pre></td></tr></table></figure>



</li>
</ol>
<ol start="3">
<li>用函数对列进行处理后做等值查询的，ref显示的是func<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; EXPLAIN SELECT * FROM s1 INNER JOIN s2 ON s2.key1 = UPPER(s1.key1);</span><br><span class="line">+----+-------------+-------+------------+------+---------------+----------+---------+------+------+----------+-----------------------+</span><br><span class="line">| id | select_type | table | partitions | type | possible_keys | key      | key_len | ref  | rows | filtered | Extra                 |</span><br><span class="line">+----+-------------+-------+------------+------+---------------+----------+---------+------+------+----------+-----------------------+</span><br><span class="line">|  1 | SIMPLE      | s1    | NULL       | ALL  | NULL          | NULL     | NULL    | NULL | 9688 |   100.00 | NULL                  |</span><br><span class="line">|  1 | SIMPLE      | s2    | NULL       | ref  | idx_key1      | idx_key1 | 303     | func |    1 |   100.00 | Using index condition |</span><br><span class="line">+----+-------------+-------+------------+------+---------------+----------+---------+------+------+----------+-----------------------+</span><br><span class="line">2 rows in set, 1 warning (0.00 sec)</span><br></pre></td></tr></table></figure>


</li>
</ol>
<h3 id="rows"><a href="#rows" class="headerlink" title="rows"></a>rows</h3><p>预计要扫描的行数</p>
<h3 id="filtered"><a href="#filtered" class="headerlink" title="filtered"></a>filtered</h3><p>估计出需要访问的行数的百分比，最后所扫描的行数为 <code>row*filtered</code></p>
<h2 id="Extra"><a href="#Extra" class="headerlink" title="Extra"></a>Extra</h2><p>主要介绍几个常见Extra</p>
<h3 id="No-tables-used"><a href="#No-tables-used" class="headerlink" title="No tables used"></a>No tables used</h3><p>查询语句没有from子句时</p>
<h3 id="Impossible-WHERE"><a href="#Impossible-WHERE" class="headerlink" title="Impossible WHERE"></a>Impossible WHERE</h3><p>查询语句的where子句永远为FALSE时</p>
<h3 id="No-matching-min-max-row"><a href="#No-matching-min-max-row" class="headerlink" title="No matching min/max row"></a>No matching min/max row</h3><p>查询语句中有max和min聚集函数，但没有符合where子句搜索条件记录时</p>
<h3 id="Using-index"><a href="#Using-index" class="headerlink" title="Using index"></a>Using index</h3><p>当使用索引覆盖的情况加，会显示</p>
<h3 id="Using-index-condition"><a href="#Using-index-condition" class="headerlink" title="Using index condition"></a>Using index condition</h3><p>搜索条件出现索引，但不能使用索引时，如：</p>
<blockquote>
<p>select * from t1 where key1 &gt; ‘z’ and key1 like ‘%x’;</p>
</blockquote>
<h3 id="Using-where"><a href="#Using-where" class="headerlink" title="Using where"></a>Using where</h3><p>全表扫描 + 使用where子句有针对该表的搜索条件，会出现</p>
<h3 id="Using-join-buffer-（Block-Nested-Loop）"><a href="#Using-join-buffer-（Block-Nested-Loop）" class="headerlink" title="Using join buffer （Block Nested Loop）"></a>Using join buffer （Block Nested Loop）</h3><p>连接查询中，如果驱动表无法用索引加快访问，mysql会分配join buffer的内存加快查询速度</p>
<h3 id="Not-exists"><a href="#Not-exists" class="headerlink" title="Not exists"></a>Not exists</h3><p>连接查询中，驱动表中有 = null语句，但该列不允许为null时</p>
<h3 id="Zero-limit"><a href="#Zero-limit" class="headerlink" title="Zero limit"></a>Zero limit</h3><p>limit 0时</p>
<hr>
<center>创作不易，谢谢你的支持~~</center>
<center class="half">
    <img width="300" data-src="https://cdn.jsdelivr.net/gh/JSK520/blog_web@1.1/photos/wechat_shikai.jpg" class="lozad">
    <img width="300" data-src="https://cdn.jsdelivr.net/gh/JSK520/blog_web@1.1/photos/alipay_shikai.jpg" class="lozad">
</center></div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined" target="_blank" rel="noopener">精进马大使</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://jskblog.xyz/posts/9aa2b4bd/">http://jskblog.xyz/posts/9aa2b4bd/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://jskblog.xyz">精进马大使</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/mysql/">mysql    </a><a class="post-meta__tags" href="/tags/explain/">explain    </a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/JSK520/blog_web@1.1/photos/jingjin_1.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button"><i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="lozad post-qr-code__img" src="https://cdn.jsdelivr.net/gh/JSK520/blog_web@1.1/photos/wechat_shikai.jpg"><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="lozad post-qr-code__img" src="https://cdn.jsdelivr.net/gh/JSK520/blog_web@1.1/photos/alipay_shikai.jpg"><div class="post-qr-code__desc">支付寶</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull-left"><a href="/posts/1c92a0d/"><img class="prev_cover lozad" data-src="https://cdn.jsdelivr.net/gh/JSK520/blog_web@1.1/photos/jingjin_1.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="label">上一篇</div><div class="prev_info"><span>mysql事务隔离和mvcc</span></div></a></div><div class="next-post pull-right"><a href="/posts/c2af516c/"><img class="next_cover lozad" data-src="https://cdn.jsdelivr.net/gh/JSK520/blog_web@1.1/photos/jingjin_1.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="label">下一篇</div><div class="next_info"><span>个人学习阶段总结及博客未来计划</span></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/posts/1c92a0d/" title="mysql事务隔离和mvcc"><img class="relatedPosts_cover lozad"data-src="https://cdn.jsdelivr.net/gh/JSK520/blog_web@1.1/photos/jingjin_1.jpg"><div class="relatedPosts_title">mysql事务隔离和mvcc</div></a></div></div><div class="clear_both"></div></div><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> 评论</span></div><div class="vcomment" id="vcomment"></div><script src="https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><script>var notify = false == true ? true : false;
var verify = false == true ? true : false;
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;

window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  appId:'SWSiPXFxVqui6FGyRkPnCH8H-gzGzoHsz',
  appKey:'6CXuzjRmitpm3VEYvkC1uO2b',
  placeholder:'Please leave your footprints',
  avatar:'monsterid',
  guest_info:guest_info,
  pageSize:'30',
  lang:'zh-cn',
  recordIP: true
});</script></div></div></div><footer><div id="footer"><div class="copyright">&copy;2019 By 精进马大使</div><div class="framework-info"><span>驱动 </span><a href="http://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换">繁</a><i class="nightshift fa fa-moon-o" id="nightshift" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="直达评论"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script async src="/js/search/local-search.js"></script><script src="/js/nightshift.js"></script><script color="0,0,255" opacity="0.7" zIndex="-1" count="99" src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/js/canvas-nest.js"></script><script src="/js/baidupush.js"> </script><script src="/js/tw_cn.js"></script><script>translateInitilization()

</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@1.2.2/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script><script>const observer = lozad(); // lazy loads elements with default selector as '.lozad'
observer.observe();
</script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>